
<!DOCTYPE html>
<html lang="ja">
    <head><meta name="generator" content="Hexo 3.9.0">
        <title>算出プロパティ - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,600|Roboto Mono" rel="stylesheet" type="text/css">
        <link href="//fonts.googleapis.com/css?family=Dosis:300,500&text=Vue.js" rel="stylesheet" type="text/css">
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel="stylesheet" type="text/css">
        <link rel="icon" href="/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/css/page.css">
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/js/vue.js"></script>
    </head>
    <body>
        <div id="mobile-bar">
            <a class="menu-button"></a>
            <a class="logo" href="/"></a>
        </div>
        
            <div id="header">
    <a id="logo" href="/">
        <img src="/images/logo.png">
        <span>Vue.js</span>
    </a>
    <ul id="nav">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/guide/" class="nav-link current">ガイド</a></li>
<li><a href="/api/" class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">例</a></li>
<li><a href="/blog/" class="nav-link">ブログ</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">コミュニティ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">フォーラム</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">チャット</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


    </ul>
</div>

            <div id="main">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input">
  </form>
</li>
<li><a href="/guide/" class="nav-link current">ガイド</a></li>
<li><a href="/api/" class="nav-link">API</a></li>
<li><a href="/examples/" class="nav-link">例</a></li>
<li><a href="/blog/" class="nav-link">ブログ</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">コミュニティ</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">フォーラム</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">チャット</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
        <div id="donate" style="margin-bottom: 20px">
            <span class="wrapper" style="width: 110px">
              <img src="/images/patreon.png">
              <a href="/support-vuejs">Support Vue.js</a>
            </span>
        </div>
        <h2>
        
        ガイド
        
        <select class="version-select">
            <option value>2.0</option>
            <option selected value="SELF">1.0</option>
            <option value="012">0.12</option>
        </select>
        </h2>
        <ul class="menu-root">
            
                <li>
                    <a href="/guide/installation.html" class="sidebar-link">インストール</a>
                </li>
            
                <li>
                    <a href="/guide/index.html" class="sidebar-link">はじめに</a>
                </li>
            
                <li>
                    <a href="/guide/overview.html" class="sidebar-link">概要</a>
                </li>
            
                <li>
                    <a href="/guide/instance.html" class="sidebar-link">Vue インスタンス</a>
                </li>
            
                <li>
                    <a href="/guide/syntax.html" class="sidebar-link">データバインディング構文</a>
                </li>
            
                <li>
                    <a href="/guide/computed.html" class="sidebar-link current">算出プロパティ</a>
                </li>
            
                <li>
                    <a href="/guide/class-and-style.html" class="sidebar-link">クラスとスタイルのバインディング</a>
                </li>
            
                <li>
                    <a href="/guide/conditional.html" class="sidebar-link">条件付きレンダリング</a>
                </li>
            
                <li>
                    <a href="/guide/list.html" class="sidebar-link">リストレンダリング</a>
                </li>
            
                <li>
                    <a href="/guide/events.html" class="sidebar-link">メソッドとイベントハンドリング</a>
                </li>
            
                <li>
                    <a href="/guide/forms.html" class="sidebar-link">フォーム入力バインディング</a>
                </li>
            
                <li>
                    <a href="/guide/transitions.html" class="sidebar-link">トランジション</a>
                </li>
            
                <li>
                    <a href="/guide/components.html" class="sidebar-link">コンポーネント</a>
                </li>
            
                <li>
                    <a href="/guide/reactivity.html" class="sidebar-link">リアクティブの探求</a>
                </li>
            
                <li>
                    <a href="/guide/custom-directive.html" class="sidebar-link">カスタムディレクティブ</a>
                </li>
            
                <li>
                    <a href="/guide/custom-filter.html" class="sidebar-link">カスタムフィルタ</a>
                </li>
            
                <li>
                    <a href="/guide/mixins.html" class="sidebar-link">ミックスイン</a>
                </li>
            
                <li>
                    <a href="/guide/plugins.html" class="sidebar-link">プラグイン</a>
                </li>
            
                <li>
                    <a href="/guide/application.html" class="sidebar-link">大規模アプリケーションの構築</a>
                </li>
            
                <li>
                    <a href="/guide/comparison.html" class="sidebar-link">他のフレームワークとの比較</a>
                </li>
            
                <li>
                    <a href="/guide/join.html" class="sidebar-link">Vue コミュニティへ参加しましょう！</a>
                </li>
            
        </ul>
    </div>
</div>


<div class="content guide with-sidebar">
    <div id="ad">
  <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script>
</div>

    <h1>算出プロパティ</h1>
    <p>テンプレート内に書ける式はとても便利ですが、それは非常に簡単な操作しかできません。テンプレートは View の構造を説明するはずです。テンプレート内に多くのロジックを詰め込むと、コードが肥大化し、メンテナンスが難しくなります。Vue.js がバインディング式を1つの式だけに制限するのはこのためです。複数の式を要求するロジックがある場合、<strong>算出プロパティ (computed property)</strong> を使用する必要があります。</p>
<h3 id="基本の例"><a href="#基本の例" class="headerlink" title="基本の例"></a>基本の例</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"example"</span>&gt;</span></span><br><span class="line">  a=&#123;&#123; a &#125;&#125;, b=&#123;&#123; b &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#example'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    a: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    <span class="comment">// 算出 getter 関数</span></span><br><span class="line">    b: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// `this` は vm インスタンスを指します</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>結果:</p>

<div id="example" class="demo">
  a={{ a }}, b={{ b }}
</div>
<script>
var vm = new Vue({
  el: '#example',
  data: {
    a: 1
  },
  computed: {
    b: function () {
      return this.a + 1
    }
  }
})
</script>

<p>ここでは、算出プロパティ <code>b</code> を宣言しました。私たちが提供した機能は、プロパティ <code>vm.b</code> に対しての getter 関数として使用されます:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(vm.b) <span class="comment">// -&gt; 2</span></span><br><span class="line">vm.a = <span class="number">2</span></span><br><span class="line"><span class="built_in">console</span>.log(vm.b) <span class="comment">// -&gt; 3</span></span><br></pre></td></tr></table></figure>
<p>コンソールを開いて、<code>vm</code> で遊んでみてください。<code>vm.b</code> の値は、常に <code>vm.a</code> の値に依存しています。</p>
<p>通常のプロパティのようにテンプレート内の算出プロパティにデータバインドすることができます。Vue は <code>vm.b</code> が <code>vm.a</code> に依存していることに気づいており、Vue は <code>vm.a</code> が変化するとき <code>vm.b</code> に依存する全てのバインディングを更新します。そして、最も良いところは、私達がこの依存関係を宣言的に作成したことです。算出 getter 関数は純粋で副作用がないので、テストとその考察が簡単になります。</p>
<h3 id="算出プロパティ-対-watch"><a href="#算出プロパティ-対-watch" class="headerlink" title="算出プロパティ 対 $watch"></a>算出プロパティ 対 $watch</h3><p>Vue.js は Vue インスタンスのデータの変更を監視できる <code>$watch</code> と呼ばれる API メソッドを提供しています。他のデータに基づいて変更する必要があるデータがある場合、特に AngularJS に慣れていたら、<code>$watch</code> を使用するのは魅力的に映るでしょう。しかし、命令的な <code>$watch</code> コールバックよりもむしろ算出プロパティを使用するほうがよいでしょう。次の例で考えてみましょう:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"demo"</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Foo'</span>,</span><br><span class="line">    lastName: <span class="string">'Bar'</span>,</span><br><span class="line">    fullName: <span class="string">'Foo Bar'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.$watch(<span class="string">'firstName'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.fullName = val + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">vm.$watch(<span class="string">'lastName'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.fullName = <span class="keyword">this</span>.firstName + <span class="string">' '</span> + val</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>上記のコードは命令的で冗長です。次の算出プロパティのを使ったバージョンと比較してみましょう:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#demo'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    firstName: <span class="string">'Foo'</span>,</span><br><span class="line">    lastName: <span class="string">'Bar'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    fullName: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>こちらの方が、はるかによくありませんか？</p>
<h3 id="算出-Setter-関数"><a href="#算出-Setter-関数" class="headerlink" title="算出 Setter 関数"></a>算出 Setter 関数</h3><p>算出プロパティはデフォルトでは getter 関数のみだけですが、必要ならば setter 関数も使えます:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line">computed: &#123;</span><br><span class="line">  fullName: &#123;</span><br><span class="line">    <span class="comment">// getter 関数</span></span><br><span class="line">    <span class="keyword">get</span>: function () &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.firstName + <span class="string">' '</span> + <span class="keyword">this</span>.lastName</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// setter 関数</span></span><br><span class="line">    <span class="keyword">set</span>: function (newValue) &#123;</span><br><span class="line">      <span class="keyword">var</span> names = newValue.split(<span class="string">' '</span>)</span><br><span class="line">      <span class="keyword">this</span>.firstName = names[<span class="number">0</span>]</span><br><span class="line">      <span class="keyword">this</span>.lastName = names[names.length - <span class="number">1</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<p><code>vm.fullname = &#39;John Doe&#39;</code> を呼ぶと、setter 関数が呼び出され、<code>vm.firstName</code> と <code>vm.lastName</code> がそれに応じて更新されます。</p>
<p>どうやって算出プロパティが更新されるかという技術的な詳細は、リアクティブシステムを説明した <a href="reactivity.html#Inside_Computed_Properties">別のセクション</a> で議論されています。</p>

    
      <div class="guide-links">
        
          <span>← <a href="/guide/syntax.html">データバインディング構文</a></span>
        
        
          <span style="float:right"><a href="/guide/class-and-style.html">クラスとスタイルのバインディング</a> →</span>
        
      </div>
    
    <div class="footer">間違いを見つけた、またはドキュメントに貢献したいですか？<a href="https://github.com/vuejs/jp.vuejs.org/blob/lang-ja/src/guide/computed.md" target="_blank">Github 上でこのページを編集する</a> か、<a href="https://github.com/vuejs/jp.vuejs.org" target="_blank">Github からこのサイトを Fork してプルリクエストしましょう</a>！</div>
</div>

                
            </div>
            <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
            <script src="/js/smooth-scroll.min.js"></script>
            <script src="/js/common.js"></script>
        

        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/tnir/vuejs-012-jp-outdated-docs-modal@012-jp-v2.1.0/prompt.min.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        </script>
    </body>
</html>
